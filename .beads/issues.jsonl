{"id":"lv-expense-tracker-5td","title":"On cards listing, credit card pay day is showing the numbers of days after closing for payment","description":"**Current behavior:** The credit card listing shows the raw payment_due_day value (e.g., '10 days') instead of the actual calculated payment date.\n\n**Expected behavior:** Should display the actual payment due date (e.g., '15') based on the statement closing date + payment_due_day calculation.\n\n**Location:** Payment methods / cards listing page","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-07T10:11:55.13314-03:00","created_by":"lucasventurella","updated_at":"2026-01-07T10:15:27.5292-03:00"}
{"id":"lv-expense-tracker-7zq","title":"Future installment being calculated as part of the current month spends in the dashboard","description":"**Current behavior:** Future installment payments are being included in the current month's spending calculations on the dashboard, making budget totals inaccurate.\n\n**Expected behavior:** Only installment payments within the current statement period should be included in spending calculations. Future installments should not affect current month totals.\n\n**Impact:** Budget dashboard shows inflated spending, leading to incorrect financial awareness.\n\n**Location:** Dashboard spending calculation / budget progress widgets\n\n**Related:** Discovered while investigating installment deletion bug (lv-expense-tracker-9ar)","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-07T10:22:49.246312-03:00","created_by":"lucasventurella","updated_at":"2026-01-07T10:22:49.246312-03:00","dependencies":[{"issue_id":"lv-expense-tracker-7zq","depends_on_id":"lv-expense-tracker-9ar","type":"discovered-from","created_at":"2026-01-07T10:32:58.401062-03:00","created_by":"lucasventurella"}]}
{"id":"lv-expense-tracker-9ar","title":"When a user deletes a credit card installment, child installments are staying in the dashboard","description":"**Current behavior:** When a user deletes a credit card installment (parent transaction), the child installment records remain in the database and continue to appear in the dashboard.\n\n**Expected behavior:** Deleting the parent installment should cascade delete all associated child installment records.\n\n**Impact:** Data integrity issue - orphaned records pollute the dashboard and may affect budget calculations.\n\n**Location:** Installment deletion flow (both frontend and WhatsApp bot)","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-07T10:19:34.781464-03:00","created_by":"lucasventurella","updated_at":"2026-01-07T10:19:34.781464-03:00"}
{"id":"lv-expense-tracker-qv1","title":"Upgrade baileys package to latest v7.0.0","description":"WhatsApp is decommissioning the old way of identifying users. We need to upgrade Baileys to v7.0.0 to support the new Local Identifier (LID) system.\n\n## Migration Guide\nhttps://baileys.wiki/docs/migration/to-v7.0.0\n\n## Key Breaking Changes\n\n### Local Identifier (LID) System\n- WhatsApp replaced phone number-based identification with LIDs (unique user identifiers for privacy)\n- Auth state must support `lid-mapping`, `device-list`, and `tctoken` keys\n- Users can be contacted via LID or phone number (PN)\n- All new Signal sessions are now in LID format\n\n### Contact and Group Metadata Updates\n- Contact interface no longer includes `jid`/`lid` fields\n- New `id` field (WhatsApp's preferred identifier) plus either `phoneNumber` or `lid`\n- Group metadata now has owner/ownerPn, descOwner/descOwnerPn pairs\n\n### Acknowledgment Behavior\n- Baileys no longer sends ACKs on successful message delivery (WhatsApp ban prevention)\n\n## Required Code Changes\n\n### Module System Migration (ESM)\n- Library switched from CommonJS to ESM\n- Options: Convert project to ESM OR use dynamic imports\n\n### API Adjustments\n- Remove `isJidUser()` calls → replace with `isPnUser()`\n- `onWhatsApp()` no longer returns LIDs\n- Access LID/PN mappings via: `sock.signalRepository.lidMapping`\n\n### Protobuf Changes\n- Only `.create()`, `.encode()`, and `.decode()` methods remain\n- Use BufferJSON utilities for encoding\n- Use new `decodeAndHydrate()` method for decoding\n\n## Impact on Our Codebase\n- Multi-identifier system in `utils/user-identifiers.ts` may need updates\n- Auth state handling in `auth-state/` directory\n- Message handlers that use JID/LID identification\n- Group message participant identification","status":"open","priority":0,"issue_type":"chore","created_at":"2026-01-07T17:35:38.755391-03:00","created_by":"lucasventurella","updated_at":"2026-01-07T17:35:38.755391-03:00"}
{"id":"lv-expense-tracker-x3e","title":"Receita recorrente não aparece no dashboard","description":"Quando um usuário adiciona uma receita recorrente, ela deveria aparecer no dashboard no mesmo dia todo mês. Atualmente, a receita não aparece no dashboard no mês seguinte.\n\n**Comportamento esperado:**\n- Receita recorrente deve aparecer automaticamente no dashboard a cada mês\n- Deve manter o mesmo dia configurado (ex: dia 5 de cada mês)\n\n**Comportamento atual:**\n- A receita recorrente não aparece no dashboard após o primeiro mês\n\n**Impacto:**\n- Usuários não conseguem visualizar suas receitas recorrentes corretamente\n- Dashboard mostra informações incompletas sobre o fluxo de caixa","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-07T09:58:21.310738-03:00","created_by":"lucasventurella","updated_at":"2026-01-07T09:58:21.310738-03:00"}
